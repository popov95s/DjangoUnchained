<script src="http://code.jquery.com/jquery-latest.min.js"
				type="text/javascript"></script>
<script src="http://www.chartjs.org/assets/Chart.js"></script>
<div>
	<canvas id="myChart" width="400" height="400"></canvas>
</div>
<div>
	<canvas id="gradient" width="400" height="100"></canvas>
</div>

<div> 
	{{swimmer_name}}
</div>
<div>
	{{scores}}
</div>
<div> {{swimmer_id}}</div> 

<script>
$(document).ready(function(){
		$.ajax({
				type: "GET",
				data: ({}),
				dataType: 'json',
				url: "http://localhost:8000/swimmer/{{swimmer_id}}/chart",
				success: function(data){
					//radar chart data
					var radarData = {
						labels : ["Free","Back","Breast","Fly","IM"],
						datasets : [
							{
								fillColor: colorCalculator(data.Distance*2.55,.2),
								strokeColor: colorCalculator(data.Distance*2.55,1),
								pointColor : "rgba(220,220,220,1)",
								pointStrokeColor : "#fff",
								data : [data.Free,data.Back, data.Breast, data.Fly, data.IM]
							},

						]
					}

					//Create Radar chart
					var ctx2 = document.getElementById("myChart").getContext("2d");
					var myChart = new Chart(ctx2).Radar(radarData, {
							scaleOverride: true,
							scaleSteps: 5,
							scaleStepWidth: 200,
							scaleStartValue: -100,
							scaleEndValue:1000,
					});

						
				}
		});
});

var c=document.getElementById("gradient");
var ctx=c.getContext("2d");
var grd=ctx.createLinearGradient(0,0,400,0);

grd.addColorStop(0,"red");

grd.addColorStop(0.5,"green");

grd.addColorStop(1,"blue");

ctx.fillStyle=grd;
ctx.fillRect(20,20,400,50);

function colorCalculator(distance, alphaSpace){

	if (distance <= 1275.0)
		return "rgba(" + String(255-parseInt(distance/5)) + "," + String(0+parseInt(distance/5))+ ",0,"+String(alphaSpace)+ ")";
	else return "rgba(" + String(255-parseInt(distance/5)) + ",0," + String(0+parseInt(distance/5))+ ","+String(alphaSpace)+ ")";
}




</script>
